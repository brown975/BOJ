#include <stdio.h>
int a, s, d[505][505], f, e[20][4][2] = { 0,0,0,1,1,0,1,1,0,0,0,1,0,2,0,3,0,0,1,0,2,0,3,0,0,0,0,1,0,2,1,0,0,2,1,0,1,1,1,2,0,0,1,0,1,1,1,2,0,0,0,1,0,2,1,2,0,0,1,0,2,0,2,1,0,0,0,1,1,1,2,1,0,0,0,1,1,0,2,0,0,1,1,1,2,0,2,1,0,0,1,0,1,1,2,1,0,1,1,0,1,1,2,0,0,1,0,2,1,0,1,1,0,0,0,1,1,1,1,2,0,0,0,1,0,2,1,1,0,1,1,0,1,1,1,2,0,1,1,0,1,1,2,1,0,0,1,0,1,1,2,0 };
int main() {
    scanf("%d%d", &a, &s);
    for (int g = 0; g < a; g++)
        for (int h = 0; h < s; h++)
            scanf("%d", &d[g][h]);
    for (int g = 0; g < a; g++)
        for (int h = 0; h < s; h++)
            for (int j = 0; j < 19; j++) {
                int r = 0;
                for (int k = 0; k < 4; k++)
                    if ((g + e[j][k][0] > -1) && (g + e[j][k][0] < a) && (h + e[j][k][1] > -1) && (h + e[j][k][1] < s))
                        r += d[g + e[j][k][0]][h + e[j][k][1]];
                if (f < r)
                    f = r;
            }
    printf("%d", f);
}
